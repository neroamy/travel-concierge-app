Restarted application in 3,242ms.
I/flutter (14710): ğŸ” Auth initialized - Logged in: true, User: nero1
I/flutter (14710): ğŸ§ª Running API connection tests...
I/flutter (14710): ğŸ§ª === API CONNECTION TESTS ===
I/flutter (14710): ğŸ“¡ Testing server connections...
I/flutter (14710): âŒ CONNECTION - main_api: error
I/flutter (14710):    URL: http://192.168.1.7:8001/api/health
I/flutter (14710):    Error: TimeoutException after 0:00:05.000000: Future not completed
I/flutter (14710):
I/flutter (14710): âŒ CONNECTION - chat_api: 404
I/flutter (14710):    URL: http://192.168.1.7:8002/health
I/flutter (14710):
I/flutter (14710): ğŸ” Testing authentication endpoints...
I/flutter (14710): âœ… AUTHENTICATION - login_endpoint: 400
I/flutter (14710):    URL: http://192.168.1.7:8001/api/auth/login/
I/flutter (14710):
I/flutter (14710): âœ… AUTHENTICATION - verify_endpoint: 401
I/flutter (14710):    URL: http://192.168.1.7:8001/api/auth/verify/
I/flutter (14710):
I/flutter (14710): ğŸ‘¤ Testing profile endpoints...
I/flutter (14710): âœ… PROFILE - profile_endpoint: 404
I/flutter (14710):    URL: http://192.168.1.7:8001/api/profile
I/flutter (14710):
I/flutter (14710): ğŸ”‘ Testing with sample credentials...
I/flutter (14710): âŒ SAMPLE LOGIN - sample_login: 401
I/flutter (14710):    URL: http://192.168.1.7:8001/api/auth/login/
I/flutter (14710):    Response: {"success":false,"message":"Invalid username or password","error_code":"INVALID_CREDENTIALS"}
I/flutter (14710):
I/flutter (14710): âœ… === TEST COMPLETED ===
I/flutter (14710): ğŸ“¡ Token verification status: 401
I/flutter (14710): âŒ Token verification failed, clearing auth data
I/flutter (14710): ğŸ—‘ï¸ Auth data cleared
I/flutter (14710): ! Session expired, navigating to login
I/AssistStructure(14710): Flattened final assist data: 468 bytes, containing 1 windows, 3 views
D/InputConnectionAdaptor(14710): The input method toggled cursor monitoring on
D/InputConnectionAdaptor(14710): The input method toggled cursor monitoring on
I/AssistStructure(14710): Flattened final assist data: 468 bytes, containing 1 windows, 3 views
D/InputConnectionAdaptor(14710): The input method toggled cursor monitoring off
D/InputConnectionAdaptor(14710): The input method toggled cursor monitoring on
I/flutter (14710): ğŸš€ Attempting login for username: nero1
D/InputConnectionAdaptor(14710): The input method toggled cursor monitoring off
I/flutter (14710): ğŸ“¡ Login response status: 200
I/flutter (14710): ğŸ“¡ Login response body: {"success":true,"message":"Login successful","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX3V1aWQiOiIzOTQwYjc1MS01YWRjLTExZjAtYWJlMS0wMjY1MDFkZjAzNGEiLCJ1c2VybmFtZSI6Im5lcm8xIiwiZW1haWwiOiJuZXJvQGdtYWlsLmNvbSIsImlhdCI6MTc1MjAyNzgzNSwiZXhwIjoxNzUyMTE0MjM1fQ.vn3vuotFvzaa73oZFc0qB6oc9dFC-Y_U__ElwSpj05A","user":{"user_uuid":"3940b751-5adc-11f0-abe1-026501df034a","username":"nero1","email":"nero@gmail.com","full_name":"neroTran","avatar_url":"https://example.com/avatars/alan_love.jpg","address":"Ha Noi, Viet Nam","interests":["Travel","Photography","Food"]}}
I/flutter (14710): ğŸ’¾ Auth data stored successfully
I/flutter (14710): âœ… Profile updated from auth data: nero1
I/flutter (14710): ğŸ”„ Profile synced with auth data
I/flutter (14710): ğŸ”„ User info updated for chat: neroTran
I/flutter (14710): ğŸ”„ GlobalChatService synced with auth data
I/flutter (14710): âœ… Login successful for user: nero1
I/flutter (14710): âœ… Profile loaded from storage: nero1
I/flutter (14710): Session created successfully: session_1752027836170
I/flutter (14710): âœ… Global chat session initialized successfully
I/flutter (14710): ğŸš€ Navigating to AI Chat from search field tap
I/flutter (14710): ğŸ¨ Building chat messages. Count: 0, isTyping: false
D/InputConnectionAdaptor(14710): The input method toggled cursor monitoring on
D/InputConnectionAdaptor(14710): The input method toggled cursor monitoring off
I/AssistStructure(14710): Flattened final assist data: 480 bytes, containing 1 windows, 3 views
D/InputConnectionAdaptor(14710): The input method toggled cursor monitoring on
I/flutter (14710): ğŸ’¬ Sending message: "xin chÃ o"
I/flutter (14710): ğŸš€ Sending message via global service: "xin chÃ o"
I/flutter (14710): ğŸŒ GlobalChatService: Starting sendMessage for: "xin chÃ o"
I/flutter (14710): ğŸ‘¤ Adding user message to history
I/flutter (14710): ğŸ’¬ Added message to global chat history. Total messages: 1
I/flutter (14710): ğŸ“¨ Received callback message:
I/flutter (14710):    - ID: 1752027843672
I/flutter (14710):    - Text: xin chÃ o
I/flutter (14710):    - Author: user
I/flutter (14710):    - IsFromUser: true
I/flutter (14710):    - Timestamp: 2025-07-09 11:24:03.672235
I/flutter (14710): ğŸ“‹ Updated local messages count: 1
I/flutter (14710): ğŸ‘¤ User message or system message, keeping typing indicator
I/flutter (14710): ğŸ”„ Starting stream from travel service...
I/flutter (14710): ğŸ¨ Building chat messages. Count: 1, isTyping: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 0 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building typing indicator at index: 1
D/InputConnectionAdaptor(14710): The input method toggled cursor monitoring off
I/flutter (14710): ğŸ“¡ Received stream result:
I/flutter (14710):    - Author: root_agent
I/flutter (14710):    - Text length: 32
I/flutter (14710):    - Text preview: What can I help you with today?
I/flutter (14710): ğŸ¤– Processing AI response part...
I/flutter (14710): ğŸ¯ Processing accumulated AI response:
I/flutter (14710):    - Total text length: 32
I/flutter (14710):    - Total function responses: 0
I/flutter (14710): ğŸ“¨ Created final AI message:
I/flutter (14710):    - ID: 1752027846250
I/flutter (14710):    - Author: root_agent
I/flutter (14710):    - Text length: 32
I/flutter (14710):    - Function responses: 0
I/flutter (14710): ğŸ’¬ Added message to global chat history. Total messages: 2
I/flutter (14710): ğŸ“¨ Received callback message:
I/flutter (14710):    - ID: 1752027846250
I/flutter (14710):    - Text: What can I help you with today?
I/flutter (14710):    - Author: root_agent
I/flutter (14710):    - IsFromUser: false
I/flutter (14710):    - Timestamp: 2025-07-09 11:24:06.251001
I/flutter (14710): ğŸ“‹ Updated local messages count: 2
I/flutter (14710): ğŸ¤– AI response received, stopping typing indicator
I/flutter (14710): ğŸ” Analyzing response for locations and itinerary...
I/flutter (14710):    - Response text length: 32
I/flutter (14710):    - Function responses count: 0
I/flutter (14710):    - Response preview: What can I help you with today?
I/flutter (14710): ğŸ“„ FULL RESPONSE:
I/flutter (14710): What can I help you with today?
I/flutter (14710): ğŸ“„ END FULL RESPONSE
I/flutter (14710): ğŸ” Checking itinerary pattern in text...
I/flutter (14710):    - Has day pattern: false
I/flutter (14710):    - Has time slots: false
I/flutter (14710):    - Has multiple days: false
I/flutter (14710):    - Has alternative day pattern: false
I/flutter (14710):    - Final itinerary pattern result: false
I/flutter (14710):    - Has itinerary pattern: false
I/flutter (14710): ğŸ” Checking location list pattern in text...
I/flutter (14710):    - Has numbered list: false
I/flutter (14710):    - Has address: false
I/flutter (14710):    - Has rating: false
I/flutter (14710):    - Has multiple entries: false
I/flutter (14710):    - Has alternative pattern: false
I/flutter (14710):    - Final location list pattern result: false
I/flutter (14710):    - Has location list pattern: false
I/flutter (14710):    - Has map_url in text: false
I/flutter (14710):    - Has map_tool function: false
I/flutter (14710): â“ No specific patterns detected, trying general analysis...
I/flutter (14710): ğŸ” Checking itinerary pattern in text...
I/flutter (14710):    - Has day pattern: false
I/flutter (14710):    - Has time slots: false
I/flutter (14710):    - Has multiple days: false
I/flutter (14710):    - Has alternative day pattern: false
I/flutter (14710):    - Final itinerary pattern result: false
I/flutter (14710): ğŸ” Checking location list pattern in text...
I/flutter (14710):    - Has numbered list: false
I/flutter (14710):    - Has address: false
I/flutter (14710):    - Has rating: false
I/flutter (14710):    - Has multiple entries: false
I/flutter (14710):    - Has alternative pattern: false
I/flutter (14710):    - Final location list pattern result: false
I/flutter (14710):    - General response type: AIResponseType.question
I/flutter (14710): â“ AI is asking a question
I/flutter (14710): ğŸ Analysis completed:
I/flutter (14710):    - Detected locations: 0
I/flutter (14710):    - Detected itinerary days: 0
I/flutter (14710): âœ… GlobalChatService: sendMessage completed
I/flutter (14710): âœ… Global service sendMessage completed
I/flutter (14710): ğŸ¨ Building chat messages. Count: 2, isTyping: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 0 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 1 - Author: root_agent - IsUser: false
D/InputConnectionAdaptor(14710): The input method toggled cursor monitoring on
I/flutter (14710): ğŸ’¬ Sending message: "gá»£i Ã½ plan roadtrip tá»« Saitama tá»›i Kamikochi"
I/flutter (14710): ğŸš€ Sending message via global service: "gá»£i Ã½ plan roadtrip tá»« Saitama tá»›i Kamikochi"
I/flutter (14710): ğŸŒ GlobalChatService: Starting sendMessage for: "gá»£i Ã½ plan roadtrip tá»« Saitama tá»›i Kamikochi"
I/flutter (14710): ğŸ‘¤ Adding user message to history
I/flutter (14710): ğŸ’¬ Added message to global chat history. Total messages: 3
I/flutter (14710): ğŸ“¨ Received callback message:
I/flutter (14710):    - ID: 1752027887598
I/flutter (14710):    - Text: gá»£i Ã½ plan roadtrip tá»« Saitama tá»›i Kamikochi
I/flutter (14710):    - Author: user
I/flutter (14710):    - IsFromUser: true
I/flutter (14710):    - Timestamp: 2025-07-09 11:24:47.598567
I/flutter (14710): ğŸ“‹ Updated local messages count: 3
I/flutter (14710): ğŸ‘¤ User message or system message, keeping typing indicator
I/flutter (14710): ğŸ”„ Starting stream from travel service...
I/flutter (14710): ğŸ¨ Building chat messages. Count: 3, isTyping: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 0 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 1 - Author: root_agent - IsUser: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 2 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building typing indicator at index: 3
D/InputConnectionAdaptor(14710): The input method toggled cursor monitoring off
I/flutter (14710): ğŸ“¡ Received stream result:
I/flutter (14710):    - Author: inspiration_agent
I/flutter (14710):    - Text length: 395
I/flutter (14710):    - Text preview: Okay, I can help you with inspiration for a road trip from Saitama to Kamikochi. Since you like moun...
I/flutter (14710): ğŸ¤– Processing AI response part...
I/flutter (14710): ğŸ¯ Processing accumulated AI response:
I/flutter (14710):    - Total text length: 395
I/flutter (14710):    - Total function responses: 0
I/flutter (14710): ğŸ“¨ Created final AI message:
I/flutter (14710):    - ID: 1752027889966
I/flutter (14710):    - Author: inspiration_agent
I/flutter (14710):    - Text length: 395
I/flutter (14710):    - Function responses: 0
I/flutter (14710): ğŸ’¬ Added message to global chat history. Total messages: 4
I/flutter (14710): ğŸ“¨ Received callback message:
I/flutter (14710):    - ID: 1752027889966
I/flutter (14710):    - Text: Okay, I can help you with inspiration for a road trip from Saitama to Kamikochi. Since you like mountains and beautiful scenery, Kamikochi is an excellent choice!
I/flutter (14710):
I/flutter (14710): To make sure I tailor the suggestions to your taste, can you confirm if you have any specific interests along the way? For example, are you interested in historical sites, onsen (hot springs), or perhaps some unique local cuisine?
I/flutter (14710):    - Author: inspiration_agent
I/flutter (14710):    - IsFromUser: false
I/flutter (14710):    - Timestamp: 2025-07-09 11:24:49.966500
I/flutter (14710): ğŸ“‹ Updated local messages count: 4
I/flutter (14710): ğŸ¤– AI response received, stopping typing indicator
I/flutter (14710): ğŸ” Analyzing response for locations and itinerary...
I/flutter (14710):    - Response text length: 395
I/flutter (14710):    - Function responses count: 0
I/flutter (14710):    - Response preview: Okay, I can help you with inspiration for a road trip from Saitama to Kamikochi. Since you like mountains and beautiful scenery, Kamikochi is an excellent choice!
I/flutter (14710):
I/flutter (14710): To make sure I tailor the suggestion...
I/flutter (14710): ğŸ“„ FULL RESPONSE:
I/flutter (14710): Okay, I can help you with inspiration for a road trip from Saitama to Kamikochi. Since you like mountains and beautiful scenery, Kamikochi is an excellent choice!
I/flutter (14710):
I/flutter (14710): To make sure I tailor the suggestions to your taste, can you confirm if you have any specific interests along the way? For example, are you interested in historical sites, onsen (hot springs), or perhaps some unique local cuisine?
I/flutter (14710): ğŸ“„ END FULL RESPONSE
I/flutter (14710): ğŸ” Checking itinerary pattern in text...
I/flutter (14710):    - Has day pattern: false
I/flutter (14710):    - Has time slots: false
I/flutter (14710):    - Has multiple days: false
I/flutter (14710):    - Has alternative day pattern: false
I/flutter (14710):    - Final itinerary pattern result: false
I/flutter (14710):    - Has itinerary pattern: false
I/flutter (14710): ğŸ” Checking location list pattern in text...
I/flutter (14710):    - Has numbered list: false
I/flutter (14710):    - Has address: false
I/flutter (14710):    - Has rating: false
I/flutter (14710):    - Has multiple entries: false
I/flutter (14710):    - Has alternative pattern: false
I/flutter (14710):    - Final location list pattern result: false
I/flutter (14710):    - Has location list pattern: false
I/flutter (14710):    - Has map_url in text: false
I/flutter (14710):    - Has map_tool function: false
I/flutter (14710): â“ No specific patterns detected, trying general analysis...
I/flutter (14710): ğŸ” Checking itinerary pattern in text...
I/flutter (14710):    - Has day pattern: false
I/flutter (14710):    - Has time slots: false
I/flutter (14710):    - Has multiple days: false
I/flutter (14710):    - Has alternative day pattern: false
I/flutter (14710):    - Final itinerary pattern result: false
I/flutter (14710): ğŸ” Checking location list pattern in text...
I/flutter (14710):    - Has numbered list: false
I/flutter (14710):    - Has address: false
I/flutter (14710):    - Has rating: false
I/flutter (14710):    - Has multiple entries: false
I/flutter (14710):    - Has alternative pattern: false
I/flutter (14710):    - Final location list pattern result: false
I/flutter (14710):    - General response type: AIResponseType.question
I/flutter (14710): â“ AI is asking a question
I/flutter (14710): ğŸ Analysis completed:
I/flutter (14710):    - Detected locations: 0
I/flutter (14710):    - Detected itinerary days: 0
I/flutter (14710): âœ… GlobalChatService: sendMessage completed
I/flutter (14710): âœ… Global service sendMessage completed
I/flutter (14710): ğŸ¨ Building chat messages. Count: 4, isTyping: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 0 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 1 - Author: root_agent - IsUser: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 2 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 3 - Author: inspiration_agent - IsUser: false
D/InputConnectionAdaptor(14710): The input method toggled cursor monitoring on
I/flutter (14710): ğŸ’¬ Sending message: "hÃ£y pháº£n há»“i báº±ng tiáº¿ng viá»‡t"
I/flutter (14710): ğŸš€ Sending message via global service: "hÃ£y pháº£n há»“i báº±ng tiáº¿ng viá»‡t"
I/flutter (14710): ğŸŒ GlobalChatService: Starting sendMessage for: "hÃ£y pháº£n há»“i báº±ng tiáº¿ng viá»‡t"
I/flutter (14710): ğŸ‘¤ Adding user message to history
I/flutter (14710): ğŸ’¬ Added message to global chat history. Total messages: 5
I/flutter (14710): ğŸ“¨ Received callback message:
I/flutter (14710):    - ID: 1752027913362
I/flutter (14710):    - Text: hÃ£y pháº£n há»“i báº±ng tiáº¿ng viá»‡t
I/flutter (14710):    - Author: user
I/flutter (14710):    - IsFromUser: true
I/flutter (14710):    - Timestamp: 2025-07-09 11:25:13.362473
I/flutter (14710): ğŸ“‹ Updated local messages count: 5
I/flutter (14710): ğŸ‘¤ User message or system message, keeping typing indicator
I/flutter (14710): ğŸ”„ Starting stream from travel service...
I/flutter (14710): ğŸ¨ Building chat messages. Count: 5, isTyping: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 0 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 1 - Author: root_agent - IsUser: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 2 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 3 - Author: inspiration_agent - IsUser: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 4 - Author: user - IsUser: true
D/InputConnectionAdaptor(14710): The input method toggled cursor monitoring off
I/flutter (14710): ğŸ’¬ Building message bubble for index: 4 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building typing indicator at index: 5
I/flutter (14710): ğŸ’¬ Building message bubble for index: 1 - Author: root_agent - IsUser: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 0 - Author: user - IsUser: true
I/flutter (14710): ğŸ“¡ Received stream result:
I/flutter (14710):    - Author: inspiration_agent
I/flutter (14710):    - Text length: 391
I/flutter (14710):    - Text preview: Tuyá»‡t vá»i! Kamikochi lÃ  má»™t lá»±a chá»n tuyá»‡t vá»i cho chuyáº¿n Ä‘i tá»« Saitama. NÆ¡i Ä‘Ã¢y ná»•i tiáº¿ng vá»›i nÃºi n...
I/flutter (14710): ğŸ¤– Processing AI response part...
I/flutter (14710): ğŸ¯ Processing accumulated AI response:
I/flutter (14710):    - Total text length: 391
I/flutter (14710):    - Total function responses: 0
I/flutter (14710): ğŸ“¨ Created final AI message:
I/flutter (14710):    - ID: 1752027914951
I/flutter (14710):    - Author: inspiration_agent
I/flutter (14710):    - Text length: 391
I/flutter (14710):    - Function responses: 0
I/flutter (14710): ğŸ’¬ Added message to global chat history. Total messages: 6
I/flutter (14710): ğŸ“¨ Received callback message:
I/flutter (14710):    - ID: 1752027914951
I/flutter (14710):    - Text: Tuyá»‡t vá»i! Kamikochi lÃ  má»™t lá»±a chá»n tuyá»‡t vá»i cho chuyáº¿n Ä‘i tá»« Saitama. NÆ¡i Ä‘Ã¢y ná»•i tiáº¿ng vá»›i nÃºi non hÃ¹ng vÄ© vÃ  phong cáº£nh tuyá»‡t Ä‘áº¹p, ráº¥t phÃ¹ há»£p vá»›i sá»Ÿ thÃ­ch cá»§a báº¡n.
I/flutter (14710):
I/flutter (14710): Äá»ƒ tÃ´i cÃ³ thá»ƒ gá»£i Ã½ nhá»¯ng Ä‘iá»ƒm dá»«ng chÃ¢n phÃ¹ há»£p nháº¥t trÃªn Ä‘Æ°á»ng Ä‘i, báº¡n cÃ³ muá»‘n ghÃ© thÄƒm nhá»¯ng Ä‘á»‹a Ä‘iá»ƒm cá»¥ thá»ƒ nÃ o khÃ´ng? VÃ­ dá»¥ nhÆ° cÃ¡c di tÃ­ch lá»‹ch sá»­, suá»‘i nÆ°á»›c nÃ³ng onsen, hay thÆ°á»Ÿng thá»©c áº©m thá»±c Ä‘á»‹a phÆ°Æ¡ng Ä‘á»™c Ä‘Ã¡o?
I/flutter (14710):    - Author: inspiration_agent
I/flutter (14710):    - IsFromUser: false
I/flutter (14710):    - Timestamp: 2025-07-09 11:25:14.951131
I/flutter (14710): ğŸ“‹ Updated local messages count: 6
I/flutter (14710): ğŸ¤– AI response received, stopping typing indicator
I/flutter (14710): ğŸ” Analyzing response for locations and itinerary...
I/flutter (14710):    - Response text length: 391
I/flutter (14710):    - Function responses count: 0
I/flutter (14710):    - Response preview: Tuyá»‡t vá»i! Kamikochi lÃ  má»™t lá»±a chá»n tuyá»‡t vá»i cho chuyáº¿n Ä‘i tá»« Saitama. NÆ¡i Ä‘Ã¢y ná»•i tiáº¿ng vá»›i nÃºi non hÃ¹ng vÄ© vÃ  phong cáº£nh tuyá»‡t Ä‘áº¹p, ráº¥t phÃ¹ há»£p vá»›i sá»Ÿ thÃ­ch cá»§a báº¡n.
I/flutter (14710):
I/flutter (14710): Äá»ƒ tÃ´i cÃ³ thá»ƒ gá»£i Ã½ nhá»¯ng Ä‘iá»ƒ...
I/flutter (14710): ğŸ“„ FULL RESPONSE:
I/flutter (14710): Tuyá»‡t vá»i! Kamikochi lÃ  má»™t lá»±a chá»n tuyá»‡t vá»i cho chuyáº¿n Ä‘i tá»« Saitama. NÆ¡i Ä‘Ã¢y ná»•i tiáº¿ng vá»›i nÃºi non hÃ¹ng vÄ© vÃ  phong cáº£nh tuyá»‡t Ä‘áº¹p, ráº¥t phÃ¹ há»£p vá»›i sá»Ÿ thÃ­ch cá»§a báº¡n.
I/flutter (14710):
I/flutter (14710): Äá»ƒ tÃ´i cÃ³ thá»ƒ gá»£i Ã½ nhá»¯ng Ä‘iá»ƒm dá»«ng chÃ¢n phÃ¹ há»£p nháº¥t trÃªn Ä‘Æ°á»ng Ä‘i, báº¡n cÃ³ muá»‘n ghÃ© thÄƒm nhá»¯ng Ä‘á»‹a Ä‘iá»ƒm cá»¥ thá»ƒ nÃ o khÃ´ng? VÃ­ dá»¥ nhÆ° cÃ¡c di tÃ­ch lá»‹ch sá»­, suá»‘i nÆ°á»›c nÃ³ng onsen, hay thÆ°á»Ÿng thá»©c áº©m thá»±c Ä‘á»‹a phÆ°Æ¡ng Ä‘á»™c Ä‘Ã¡o?
I/flutter (14710): ğŸ“„ END FULL RESPONSE
I/flutter (14710): ğŸ” Checking itinerary pattern in text...
I/flutter (14710):    - Has day pattern: false
I/flutter (14710):    - Has time slots: false
I/flutter (14710):    - Has multiple days: false
I/flutter (14710):    - Has alternative day pattern: false
I/flutter (14710):    - Final itinerary pattern result: false
I/flutter (14710):    - Has itinerary pattern: false
I/flutter (14710): ğŸ” Checking location list pattern in text...
I/flutter (14710):    - Has numbered list: false
I/flutter (14710):    - Has address: false
I/flutter (14710):    - Has rating: false
I/flutter (14710):    - Has multiple entries: false
I/flutter (14710):    - Has alternative pattern: false
I/flutter (14710):    - Final location list pattern result: false
I/flutter (14710):    - Has location list pattern: false
I/flutter (14710):    - Has map_url in text: false
I/flutter (14710):    - Has map_tool function: false
I/flutter (14710): â“ No specific patterns detected, trying general analysis...
I/flutter (14710): ğŸ” Checking itinerary pattern in text...
I/flutter (14710):    - Has day pattern: false
I/flutter (14710):    - Has time slots: false
I/flutter (14710):    - Has multiple days: false
I/flutter (14710):    - Has alternative day pattern: false
I/flutter (14710):    - Final itinerary pattern result: false
I/flutter (14710): ğŸ” Checking location list pattern in text...
I/flutter (14710):    - Has numbered list: false
I/flutter (14710):    - Has address: false
I/flutter (14710):    - Has rating: false
I/flutter (14710):    - Has multiple entries: false
I/flutter (14710):    - Has alternative pattern: false
I/flutter (14710):    - Final location list pattern result: false
I/flutter (14710):    - General response type: AIResponseType.question
I/flutter (14710): â“ AI is asking a question
I/flutter (14710): ğŸ Analysis completed:
I/flutter (14710):    - Detected locations: 0
I/flutter (14710):    - Detected itinerary days: 0
I/flutter (14710): âœ… GlobalChatService: sendMessage completed
I/flutter (14710): âœ… Global service sendMessage completed
I/flutter (14710): ğŸ¨ Building chat messages. Count: 6, isTyping: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 0 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 1 - Author: root_agent - IsUser: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 2 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 3 - Author: inspiration_agent - IsUser: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 4 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 5 - Author: inspiration_agent - IsUser: false
D/InputConnectionAdaptor(14710): The input method toggled cursor monitoring on
I/flutter (14710): ğŸ’¬ Sending message: "yeah,tÃ´i thÃ­ch onsen vÃ  mÃ³n Äƒn Ä‘á»‹a phÆ°Æ¡ng"
I/flutter (14710): ğŸš€ Sending message via global service: "yeah,tÃ´i thÃ­ch onsen vÃ  mÃ³n Äƒn Ä‘á»‹a phÆ°Æ¡ng"
I/flutter (14710): ğŸŒ GlobalChatService: Starting sendMessage for: "yeah,tÃ´i thÃ­ch onsen vÃ  mÃ³n Äƒn Ä‘á»‹a phÆ°Æ¡ng"
I/flutter (14710): ğŸ‘¤ Adding user message to history
I/flutter (14710): ğŸ’¬ Added message to global chat history. Total messages: 7
I/flutter (14710): ğŸ“¨ Received callback message:
I/flutter (14710):    - ID: 1752027941532
I/flutter (14710):    - Text: yeah,tÃ´i thÃ­ch onsen vÃ  mÃ³n Äƒn Ä‘á»‹a phÆ°Æ¡ng
I/flutter (14710):    - Author: user
I/flutter (14710):    - IsFromUser: true
I/flutter (14710):    - Timestamp: 2025-07-09 11:25:41.532746
I/flutter (14710): ğŸ“‹ Updated local messages count: 7
I/flutter (14710): ğŸ‘¤ User message or system message, keeping typing indicator
I/flutter (14710): ğŸ”„ Starting stream from travel service...
I/flutter (14710): ğŸ¨ Building chat messages. Count: 7, isTyping: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 3 - Author: inspiration_agent - IsUser: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 4 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 5 - Author: inspiration_agent - IsUser: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 6 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building typing indicator at index: 7
D/InputConnectionAdaptor(14710): The input method toggled cursor monitoring off
I/flutter (14710): ğŸ’¬ Building message bubble for index: 3 - Author: inspiration_agent - IsUser: false
I/flutter (14710): ğŸ“¡ Received stream result:
I/flutter (14710):    - Author: inspiration_agent
I/flutter (14710):    - Text length: 713
I/flutter (14710):    - Text preview: Tuyá»‡t vá»i! Váº­y thÃ¬ trÃªn Ä‘Æ°á»ng Ä‘i tá»« Saitama Ä‘áº¿n Kamikochi, chÃºng ta cÃ³ thá»ƒ khÃ¡m phÃ¡ má»™t vÃ i Ä‘iá»ƒm dá»«n...
I/flutter (14710): ğŸ¤– Processing AI response part...
I/flutter (14710): ğŸ¯ Processing accumulated AI response:
I/flutter (14710):    - Total text length: 713
I/flutter (14710):    - Total function responses: 0
I/flutter (14710): ğŸ“¨ Created final AI message:
I/flutter (14710):    - ID: 1752027944237
I/flutter (14710):    - Author: inspiration_agent
I/flutter (14710):    - Text length: 713
I/flutter (14710):    - Function responses: 0
I/flutter (14710): ğŸ’¬ Added message to global chat history. Total messages: 8
I/flutter (14710): ğŸ“¨ Received callback message:
I/flutter (14710):    - ID: 1752027944237
I/flutter (14710):    - Text: Tuyá»‡t vá»i! Váº­y thÃ¬ trÃªn Ä‘Æ°á»ng Ä‘i tá»« Saitama Ä‘áº¿n Kamikochi, chÃºng ta cÃ³ thá»ƒ khÃ¡m phÃ¡ má»™t vÃ i Ä‘iá»ƒm dá»«ng chÃ¢n ná»•i tiáº¿ng vá»›i onsen vÃ  áº©m thá»±c Ä‘á»‹a phÆ°Æ¡ng.
I/flutter (14710):
I/flutter (14710): Äá»ƒ tÃ´i gá»£i Ã½ má»™t vÃ i Ä‘iá»ƒm Ä‘áº¿n tiá»m nÄƒng nhÃ©:
I/flutter (14710):
I/flutter (14710): 1.  **Kusatsu Onsen:** Má»™t trong nhá»¯ng khu onsen ná»•i tiáº¿ng nháº¥t Nháº­t Báº£n, vá»›i nguá»“n nÆ°á»›c nÃ³ng tá»± nhiÃªn cháº¥t lÆ°á»£ng cao vÃ  khÃ´ng khÃ­ thá»‹ tráº¥n onsen truyá»n thá»‘ng.
I/flutter (14710): 2.  **Takayama:** Thá»‹ tráº¥n cá»• kÃ­nh vá»›i kiáº¿n trÃºc nhÃ  gá»— Ä‘áº·c trÆ°ng, ná»•i tiáº¿ng vá»›i mÃ³n thá»‹t bÃ² Hida vÃ  chá»£ sÃ¡ng Ä‘á»‹a phÆ°Æ¡ng.
I/flutter (14710): 3.  **Shirakawa-go:** NgÃ´i lÃ ng cá»• vá»›i nhá»¯ng ngÃ´i nhÃ  mÃ¡i tranh Gassho-zukuri Ä‘á»™c Ä‘Ã¡o, Ä‘Æ°á»£c UNESCO cÃ´ng nháº­n lÃ  Di sáº£n Tháº¿ giá»›i.
I/flutter (14710):
I/flutter (14710): Báº¡n tháº¥y há»©ng thÃº vá»›i Ä‘á»‹a Ä‘iá»ƒm nÃ o nháº¥t khÃ´ng? Hoáº·c báº¡n cÃ³ muá»‘n tÃ´i gá»£i Ã½ thÃªm cÃ¡c lá»±a chá»n khÃ¡c khÃ´ng?
I/flutter (14710):    - Author: inspiration_agent
I/flutter (14710):    - IsFromUser: false
I/flutter (14710):    - Timestamp: 2025-07-09 11:25:44.237440
I/flutter (14710): ğŸ“‹ Updated local messages count: 8
I/flutter (14710): ğŸ¤– AI response received, stopping typing indicator
I/flutter (14710): ğŸ” Analyzing response for locations and itinerary...
I/flutter (14710):    - Response text length: 713
I/flutter (14710):    - Function responses count: 0
I/flutter (14710):    - Response preview: Tuyá»‡t vá»i! Váº­y thÃ¬ trÃªn Ä‘Æ°á»ng Ä‘i tá»« Saitama Ä‘áº¿n Kamikochi, chÃºng ta cÃ³ thá»ƒ khÃ¡m phÃ¡ má»™t vÃ i Ä‘iá»ƒm dá»«ng chÃ¢n ná»•i tiáº¿ng vá»›i onsen vÃ  áº©m thá»±c Ä‘á»‹a phÆ°Æ¡ng.
I/flutter (14710):
I/flutter (14710): Äá»ƒ tÃ´i gá»£i Ã½ má»™t vÃ i Ä‘iá»ƒm Ä‘áº¿n tiá»m nÄƒng nhÃ©:
I/flutter (14710):
I/flutter (14710): 1. ...
I/flutter (14710): ğŸ“„ FULL RESPONSE:
I/flutter (14710): Tuyá»‡t vá»i! Váº­y thÃ¬ trÃªn Ä‘Æ°á»ng Ä‘i tá»« Saitama Ä‘áº¿n Kamikochi, chÃºng ta cÃ³ thá»ƒ khÃ¡m phÃ¡ má»™t vÃ i Ä‘iá»ƒm dá»«ng chÃ¢n ná»•i tiáº¿ng vá»›i onsen vÃ  áº©m thá»±c Ä‘á»‹a phÆ°Æ¡ng.
I/flutter (14710):
I/flutter (14710): Äá»ƒ tÃ´i gá»£i Ã½ má»™t vÃ i Ä‘iá»ƒm Ä‘áº¿n tiá»m nÄƒng nhÃ©:
I/flutter (14710):
I/flutter (14710): 1.  **Kusatsu Onsen:** Má»™t trong nhá»¯ng khu onsen ná»•i tiáº¿ng nháº¥t Nháº­t Báº£n, vá»›i nguá»“n nÆ°á»›c nÃ³ng tá»± nhiÃªn cháº¥t lÆ°á»£ng cao vÃ  khÃ´ng khÃ­ thá»‹ tráº¥n onsen truyá»n thá»‘ng.
I/flutter (14710): 2.  **Takayama:** Thá»‹ tráº¥n cá»• kÃ­nh vá»›i kiáº¿n trÃºc nhÃ  gá»— Ä‘áº·c trÆ°ng, ná»•i tiáº¿ng vá»›i mÃ³n thá»‹t bÃ² Hida vÃ  chá»£ sÃ¡ng Ä‘á»‹a phÆ°Æ¡ng.
I/flutter (14710): 3.  **Shirakawa-go:** NgÃ´i lÃ ng cá»• vá»›i nhá»¯ng ngÃ´i nhÃ  mÃ¡i tranh Gassho-zukuri Ä‘á»™c Ä‘Ã¡o, Ä‘Æ°á»£c UNESCO cÃ´ng nháº­n lÃ  Di sáº£n Tháº¿ giá»›i.
I/flutter (14710):
I/flutter (14710): Báº¡n tháº¥y há»©ng thÃº vá»›i Ä‘á»‹a Ä‘iá»ƒm nÃ o nháº¥t khÃ´ng? Hoáº·c báº¡n cÃ³ muá»‘n tÃ´i gá»£i Ã½ thÃªm cÃ¡c lá»±a chá»n khÃ¡c khÃ´ng?
I/flutter (14710): ğŸ“„ END FULL RESPONSE
I/flutter (14710): ğŸ” Checking itinerary pattern in text...
I/flutter (14710):    - Has day pattern: false
I/flutter (14710):    - Has time slots: false
I/flutter (14710):    - Has multiple days: false
I/flutter (14710):    - Has alternative day pattern: false
I/flutter (14710):    - Final itinerary pattern result: false
I/flutter (14710):    - Has itinerary pattern: false
I/flutter (14710): ğŸ” Checking location list pattern in text...
I/flutter (14710):    - Has numbered list: true
I/flutter (14710):    - Has address: false
I/flutter (14710):    - Has rating: false
I/flutter (14710):    - Has multiple entries: true
I/flutter (14710):    - Has alternative pattern: false
I/flutter (14710):    - Final location list pattern result: false
I/flutter (14710):    - Has location list pattern: false
I/flutter (14710):    - Has map_url in text: false
I/flutter (14710):    - Has map_tool function: false
I/flutter (14710): â“ No specific patterns detected, trying general analysis...
I/flutter (14710): ğŸ” Checking itinerary pattern in text...
I/flutter (14710):    - Has day pattern: false
I/flutter (14710):    - Has time slots: false
I/flutter (14710):    - Has multiple days: false
I/flutter (14710):    - Has alternative day pattern: false
I/flutter (14710):    - Final itinerary pattern result: false
I/flutter (14710): ğŸ” Checking location list pattern in text...
I/flutter (14710):    - Has numbered list: true
I/flutter (14710):    - Has address: false
I/flutter (14710):    - Has rating: false
I/flutter (14710):    - Has multiple entries: true
I/flutter (14710):    - Has alternative pattern: false
I/flutter (14710):    - Final location list pattern result: false
I/flutter (14710):    - General response type: AIResponseType.question
I/flutter (14710): â“ AI is asking a question
I/flutter (14710): ğŸ Analysis completed:
I/flutter (14710):    - Detected locations: 0
I/flutter (14710):    - Detected itinerary days: 0
I/flutter (14710): âœ… GlobalChatService: sendMessage completed
I/flutter (14710): âœ… Global service sendMessage completed
I/flutter (14710): ğŸ¨ Building chat messages. Count: 8, isTyping: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 3 - Author: inspiration_agent - IsUser: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 4 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 5 - Author: inspiration_agent - IsUser: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 6 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 7 - Author: inspiration_agent - IsUser: false
D/InputConnectionAdaptor(14710): The input method toggled cursor monitoring on
I/flutter (14710): ğŸ’¬ Sending message: "tÃ´i thÃ­ch Takayama"
I/flutter (14710): ğŸš€ Sending message via global service: "tÃ´i thÃ­ch Takayama"
I/flutter (14710): ğŸŒ GlobalChatService: Starting sendMessage for: "tÃ´i thÃ­ch Takayama"
I/flutter (14710): ğŸ‘¤ Adding user message to history
I/flutter (14710): ğŸ’¬ Added message to global chat history. Total messages: 9
I/flutter (14710): ğŸ“¨ Received callback message:
I/flutter (14710):    - ID: 1752027966834
I/flutter (14710):    - Text: tÃ´i thÃ­ch Takayama
I/flutter (14710):    - Author: user
I/flutter (14710):    - IsFromUser: true
I/flutter (14710):    - Timestamp: 2025-07-09 11:26:06.834575
I/flutter (14710): ğŸ“‹ Updated local messages count: 9
I/flutter (14710): ğŸ‘¤ User message or system message, keeping typing indicator
I/flutter (14710): ğŸ”„ Starting stream from travel service...
I/flutter (14710): ğŸ¨ Building chat messages. Count: 9, isTyping: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 5 - Author: inspiration_agent - IsUser: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 6 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 7 - Author: inspiration_agent - IsUser: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 8 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 8 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building typing indicator at index: 9
D/InputConnectionAdaptor(14710): The input method toggled cursor monitoring off
I/flutter (14710): ğŸ’¬ Building message bubble for index: 6 - Author: user - IsUser: true
I/flutter (14710): ğŸ“¡ Received stream result:
I/flutter (14710):    - Author: inspiration_agent
I/flutter (14710):    - Text length: 198
I/flutter (14710):    - Text preview: Tuyá»‡t vá»i! Takayama lÃ  má»™t lá»±a chá»n tuyá»‡t vá»i. ÄÃ¢y lÃ  má»™t thá»‹ tráº¥n cá»• kÃ­nh vá»›i ráº¥t nhiá»u Ä‘iá»u thÃº vá»‹...
I/flutter (14710): ğŸ¤– Processing AI response part...
I/flutter (14710): ğŸ“¡ Received stream result:
I/flutter (14710):    - Author: system
I/flutter (14710):    - Text length: 42
I/flutter (14710):    - Text preview: ğŸ“ Found activities and points of interest
I/flutter (14710): ! Skipping non-AI message: system
I/flutter (14710): ğŸ“¡ Received stream result:
I/flutter (14710):    - Author: inspiration_agent
I/flutter (14710):    - Text length: 1672
I/flutter (14710):    - Text preview: DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ i Ä‘iá»ƒm tham quan vÃ  hoáº¡t Ä‘á»™ng ná»•i báº­t á»Ÿ Takayama mÃ  báº¡n cÃ³ thá»ƒ thÃ­ch:
I/flutter (14710):
I/flutter (14710): *   **Phá»‘ c...
I/flutter (14710): ğŸ¤– Processing AI response part...
I/flutter (14710): ğŸ“¡ Received stream result:
I/flutter (14710):    - Author: inspiration_agent
I/flutter (14710):    - Text length: 2645
I/flutter (14710):    - Text preview: Tuyá»‡t vá»i! DÆ°á»›i Ä‘Ã¢y lÃ  thÃ´ng tin chi tiáº¿t hÆ¡n vá» cÃ¡c Ä‘á»‹a Ä‘iá»ƒm du lá»‹ch ná»•i tiáº¿ng á»Ÿ Takayama, bao gá»“m ...
I/flutter (14710): ğŸ¤– Processing AI response part...
I/flutter (14710): ğŸ¯ Processing accumulated AI response:
I/flutter (14710):    - Total text length: 4519
I/flutter (14710):    - Total function responses: 0
I/flutter (14710): ğŸ“¨ Created final AI message:
I/flutter (14710):    - ID: 1752027988187
I/flutter (14710):    - Author: inspiration_agent
I/flutter (14710):    - Text length: 4519
I/flutter (14710):    - Function responses: 0
I/flutter (14710): ğŸ’¬ Added message to global chat history. Total messages: 10
I/flutter (14710): ğŸ“¨ Received callback message:
I/flutter (14710):    - ID: 1752027988187
I/flutter (14710):    - Text: Tuyá»‡t vá»i! Takayama lÃ  má»™t lá»±a chá»n tuyá»‡t vá»i. ÄÃ¢y lÃ  má»™t thá»‹ tráº¥n cá»• kÃ­nh vá»›i ráº¥t nhiá»u Ä‘iá»u thÃº vá»‹ Ä‘á»ƒ khÃ¡m phÃ¡.
I/flutter (14710):
I/flutter (14710): BÃ¢y giá», Ä‘á»ƒ tÃ´i gá»£i Ã½ má»™t vÃ i hoáº¡t Ä‘á»™ng vÃ  Ä‘iá»ƒm tham quan ná»•i báº­t á»Ÿ Takayama nhÃ©:
I/flutter (14710):
I/flutter (14710):
I/flutter (14710):
I/flutter (14710): DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ i Ä‘iá»ƒm tham quan vÃ  hoáº¡t Ä‘á»™ng ná»•i báº­t á»Ÿ Takayama mÃ  báº¡n cÃ³ thá»ƒ thÃ­ch:
I/flutter (14710):
I/flutter (14710): *   **Phá»‘ cá»• Takayama:** Khu phá»‘ cá»• Ä‘Æ°á»£c báº£o tá»“n vá»›i nhá»¯ng ngÃ´i nhÃ  truyá»n thá»‘ng, cá»­a hÃ ng vÃ  xÆ°á»Ÿng sáº£n xuáº¥t rÆ°á»£u sake tá»« thá»i Edo.
I/flutter (14710):     *   Äá»‹a chá»‰: Takayama, Gifu Prefecture, Japan
I/flutter (14710):     *   ÄÃ¡nh giÃ¡: 4.5 sao
I/flutter (14710):     *   Äiá»ƒm ná»•i báº­t: Kiáº¿n trÃºc truyá»n thá»‘ng, mua sáº¯m quÃ  lÆ°u niá»‡m, thÆ°á»Ÿng thá»©c rÆ°á»£u sake Ä‘á»‹a phÆ°Æ¡ng.
I/flutter (14710): *   **LÃ ng dÃ¢n gian Hida:** Báº£o tÃ ng ngoÃ i trá»i trÆ°ng bÃ y nhá»¯ng ngÃ´i nhÃ  nÃ´ng thÃ´n vÃ  cÃ¡c cÃ´ng trÃ¬nh kiáº¿n trÃºc truyá»n thá»‘ng tá»« vÃ¹ng Hida.
I/flutter (14710):     *   Äá»‹a chá»‰: 1-590 Kamiokamotomachi, Takayama,
I/flutter (14710):    - Author: inspiration_agent
I/flutter (14710):    - IsFromUser: false
I/flutter (14710):    - Timestamp: 2025-07-09 11:26:28.187300
I/flutter (14710): ğŸ“‹ Updated local messages count: 10
I/flutter (14710): ğŸ¤– AI response received, stopping typing indicator
I/flutter (14710): ğŸ” Analyzing response for locations and itinerary...
I/flutter (14710):    - Response text length: 4519
I/flutter (14710):    - Function responses count: 0
I/flutter (14710):    - Response preview: Tuyá»‡t vá»i! Takayama lÃ  má»™t lá»±a chá»n tuyá»‡t vá»i. ÄÃ¢y lÃ  má»™t thá»‹ tráº¥n cá»• kÃ­nh vá»›i ráº¥t nhiá»u Ä‘iá»u thÃº vá»‹ Ä‘á»ƒ khÃ¡m phÃ¡.
I/flutter (14710):
I/flutter (14710): BÃ¢y giá», Ä‘á»ƒ tÃ´i gá»£i Ã½ má»™t vÃ i hoáº¡t Ä‘á»™ng vÃ  Ä‘iá»ƒm tham quan ná»•i báº­t á»Ÿ Takayama nhÃ©:
I/flutter (14710):
I/flutter (14710):
I/flutter (14710):
I/flutter (14710): ...
I/flutter (14710): ğŸ“„ FULL RESPONSE:
I/flutter (14710): Tuyá»‡t vá»i! Takayama lÃ  má»™t lá»±a chá»n tuyá»‡t vá»i. ÄÃ¢y lÃ  má»™t thá»‹ tráº¥n cá»• kÃ­nh vá»›i ráº¥t nhiá»u Ä‘iá»u thÃº vá»‹ Ä‘á»ƒ khÃ¡m phÃ¡.
I/flutter (14710):
I/flutter (14710): BÃ¢y giá», Ä‘á»ƒ tÃ´i gá»£i Ã½ má»™t vÃ i hoáº¡t Ä‘á»™ng vÃ  Ä‘iá»ƒm tham quan ná»•i báº­t á»Ÿ Takayama nhÃ©:
I/flutter (14710):
I/flutter (14710):
I/flutter (14710):
I/flutter (14710): DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ i Ä‘iá»ƒm tham quan vÃ  hoáº¡t Ä‘á»™ng ná»•i báº­t á»Ÿ Takayama mÃ  báº¡n cÃ³ thá»ƒ thÃ­ch:
I/flutter (14710):
I/flutter (14710): *   **Phá»‘ cá»• Takayama:** Khu phá»‘ cá»• Ä‘Æ°á»£c báº£o tá»“n vá»›i nhá»¯ng ngÃ´i nhÃ  truyá»n thá»‘ng, cá»­a hÃ ng vÃ  xÆ°á»Ÿng sáº£n xuáº¥t rÆ°á»£u sake tá»« thá»i Edo.
I/flutter (14710):     *   Äá»‹a chá»‰: Takayama, Gifu Prefecture, Japan
I/flutter (14710):     *   ÄÃ¡nh giÃ¡: 4.5 sao
I/flutter (14710):     *   Äiá»ƒm ná»•i báº­t: Kiáº¿n trÃºc truyá»n thá»‘ng, mua sáº¯m quÃ  lÆ°u niá»‡m, thÆ°á»Ÿng thá»©c rÆ°á»£u sake Ä‘á»‹a phÆ°Æ¡ng.
I/flutter (14710): *   **LÃ ng dÃ¢n gian Hida:** Báº£o tÃ ng ngoÃ i trá»i trÆ°ng bÃ y nhá»¯ng ngÃ´i nhÃ  nÃ´ng thÃ´n vÃ  cÃ¡c cÃ´ng trÃ¬nh kiáº¿n trÃºc truyá»n thá»‘ng tá»« vÃ¹ng Hida.
I/flutter (14710):     *   Äá»‹a chá»‰: 1-590 Kamiokamotomachi, Takayama, Gifu 506-00
I/flutter (14710): ğŸ“„ END FULL RESPONSE
I/flutter (14710): ğŸ” Checking itinerary pattern in text...
I/flutter (14710):    - Has day pattern: false
I/flutter (14710):    - Has time slots: true
I/flutter (14710):    - Has multiple days: false
I/flutter (14710):    - Has alternative day pattern: false
I/flutter (14710):    - Final itinerary pattern result: false
I/flutter (14710):    - Has itinerary pattern: false
I/flutter (14710): ğŸ” Checking location list pattern in text...
I/flutter (14710):    - Has numbered list: false
I/flutter (14710):    - Has address: true
I/flutter (14710):    - Has rating: true
I/flutter (14710):    - Has multiple entries: false
I/flutter (14710):    - Has alternative pattern: false
I/flutter (14710):    - Final location list pattern result: false
I/flutter (14710):    - Has location list pattern: false
I/flutter (14710):    - Has map_url in text: true
I/flutter (14710):    - Has map_tool function: false
I/flutter (14710): ğŸ“ Processing location response...
I/flutter (14710): ğŸ” Starting location extraction...
I/flutter (14710): ğŸ”„ Starting to parse AI response...
I/flutter (14710): ğŸ“ Response text length: 4519
I/flutter (14710): ğŸ“ Response preview: Tuyá»‡t vá»i! Takayama lÃ  má»™t lá»±a chá»n tuyá»‡t vá»i. ÄÃ¢y lÃ  má»™t thá»‹ tráº¥n cá»• kÃ­nh vá»›i ráº¥t nhiá»u Ä‘iá»u thÃº vá»‹ Ä‘á»ƒ khÃ¡m phÃ¡.
I/flutter (14710):
I/flutter (14710): BÃ¢y giá», Ä‘á»ƒ tÃ´i gá»£i Ã½ má»™t vÃ i hoáº¡t Ä‘á»™ng vÃ  Ä‘iá»ƒm tham quan ná»•i báº­t á»Ÿ Takayama nhÃ©:
I/flutter (14710):
I/flutter (14710):
I/flutter (14710):
I/flutter (14710): DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ i Ä‘iá»ƒm tham quan vÃ  hoáº¡t Ä‘á»™ng ná»•i báº­t á»Ÿ Takayama mÃ  báº¡n cÃ³ thá»ƒ thÃ­ch:
I/flutter (14710):
I/flutter (14710): *   **Phá»‘ cá»• Takayama:** Khu phá»‘ cá»• Ä‘Æ°á»£c báº£o tá»“n vá»›i nhá»¯ng ngÃ´i nhÃ  truyá»n thá»‘ng, cá»­a hÃ ng vÃ  xÆ°á»Ÿng sáº£n xuáº¥t rÆ°á»£u sake tá»« thá»i Edo.
I/flutter (14710):     *   Äá»‹a chá»‰: Takayama, Gifu Prefecture, Japan
I/flutter (14710):     *   ÄÃ¡nh giÃ¡: 4.5 sao
I/flutter (14710):    ...
I/flutter (14710): ğŸ” Found 0 potential place matches with pattern
I/flutter (14710): ğŸ Parsing completed. Total places found: 0
I/flutter (14710): ğŸ“ Extracted 0 places from text response
I/flutter (14710): ğŸ”— Found 0 Google Maps URLs in response
I/flutter (14710): ğŸ“ Extracted 0 places from map URLs in text
I/flutter (14710): ğŸ Total places extracted: 0
I/flutter (14710): ğŸ¯ Detected 0 locations from response
I/flutter (14710): ğŸ Analysis completed:
I/flutter (14710):    - Detected locations: 0
I/flutter (14710):    - Detected itinerary days: 0
I/flutter (14710): âœ… GlobalChatService: sendMessage completed
I/flutter (14710): âœ… Global service sendMessage completed
I/flutter (14710): ğŸ¨ Building chat messages. Count: 10, isTyping: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 6 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 7 - Author: inspiration_agent - IsUser: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 8 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 9 - Author: inspiration_agent - IsUser: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 8 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 7 - Author: inspiration_agent - IsUser: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 8 - Author: user - IsUser: true
I/flutter (14710): ğŸ’¬ Building message bubble for index: 7 - Author: inspiration_agent - IsUser: false
I/flutter (14710): ğŸ’¬ Building message bubble for index: 6 - Author: user - IsUser: true
